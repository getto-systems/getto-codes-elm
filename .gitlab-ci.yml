image: node:11.12.0-stretch

test:
  except:
    - master
    - release
    - tags
  script:
    - npm install
    - ./bin/prepare-production.sh
    - ./bin/test.sh

release:
  only:
    - release@getto-systems-labo/codes/elm
  script:
    - ./bin/push_tags.sh
